(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{221:function(r){r.exports={code:'/**\r\n * demonstrate error report\r\n */\r\nimport { ReactPeg } from "react-peg";\r\nimport { Tracer } from "pegjs-backtrace";\r\n\r\nlet result = null;\r\n\r\nconst input = "1.5 + 2 + 3.4 * ( 25 - 4 ) /  - 8";\r\nconst tracer = new Tracer(input, { useColor: false });\r\n\r\ntry {\r\n    const parser = ReactPeg.render(<Expression />, { tracer });\r\n    const ast = parser.parse(input);\r\n    result = ast;\r\n} catch (error) {\r\n    result = error;\r\n}\r\n\r\nconst backtrace = tracer.getBacktraceString();\r\nconsole.log(backtrace);\r\nconsole.log(result);\r\n\r\nconst toExport = Boolean(result.message) ?  {\r\n    ...result,\r\n    backtrace\r\n} : result\r\n\r\nexport default toExport\r\n\r\n/**\r\n * grammar\r\n */\r\nfunction Expression() {\r\n\r\n    const head = (\r\n        <Term label="head" />\r\n    );\r\n\r\n    const tail = (\r\n        <repeat label="tail" type="*">\r\n            <pattern action={({ term, op }) => ({ op, term })}>\r\n                <_ />\r\n                <or label="op">\r\n                    <text>+</text>\r\n                    <text>-</text>\r\n                </or>\r\n                <Term label="term" />\r\n                <_ />\r\n            </pattern>\r\n        </repeat>\r\n    );\r\n\r\n    const action = ({ head, tail }) => {\r\n        let value = head;\r\n        tail.forEach(({ op, term }) => {\r\n            if (op === "+") {\r\n                value += term;\r\n            } else if (op === "-") {\r\n                value -= term;\r\n            }\r\n        })\r\n        return value;\r\n    }\r\n\r\n    return (\r\n        <pattern action={action}>\r\n            {head}\r\n            {tail}\r\n        </pattern>\r\n    );\r\n}\r\n\r\nfunction _() {\r\n    return (\r\n        <repeat type="*">\r\n            <set> \\t\\n\\r</set>\r\n        </repeat>\r\n    );\r\n}\r\n\r\nfunction Number() {\r\n    const digits = (\r\n        <repeat type="+">\r\n            <set>0-9</set>\r\n        </repeat>\r\n    );\r\n\r\n    const action = ({ globalFunction }) => {\r\n        return parseFloat(globalFunction.text());\r\n    }\r\n\r\n    return (\r\n        <pattern action={action}>\r\n            {digits}\r\n            <opt>\r\n                <text>.</text>\r\n                {digits}\r\n            </opt>\r\n        </pattern>\r\n    );\r\n}\r\n\r\nfunction Factor() {\r\n\r\n    const number = (\r\n        <pattern action={({ value }) => value}>\r\n            <_ />\r\n            <Number label="value" />\r\n            <_ />\r\n        </pattern>\r\n    );\r\n\r\n    const expression = (\r\n        <pattern action={({ expression }) => expression}>\r\n            <_ />\r\n            <text>(</text>\r\n            <Expression label="expression" />\r\n            <text>)</text>\r\n            <_ />\r\n        </pattern >\r\n    );\r\n\r\n    return (\r\n        <or>\r\n            {expression}\r\n            {number}\r\n        </or>\r\n    );\r\n}\r\n\r\nfunction Term() {\r\n\r\n    const head = (\r\n        <Factor label="head" />\r\n    );\r\n\r\n    const tail = (\r\n        <repeat label="tail" type="*">\r\n            <pattern action={({ op, factor }) => ({ op, factor })}>\r\n                <_ />\r\n                <or label="op">\r\n                    <text>*</text>\r\n                    <text>/</text>\r\n                </or>\r\n                <Factor label="factor" />\r\n                <_ />\r\n            </pattern>\r\n        </repeat>\r\n    );\r\n\r\n    const action = ({ head, tail }) => {\r\n        let value = head;\r\n        tail.forEach(({ op, factor }) => {\r\n            if (op === "*") {\r\n                value *= factor;\r\n            } else if (op === "/") {\r\n                value /= factor;\r\n            }\r\n        })\r\n        return value;\r\n    }\r\n\r\n    return (\r\n        <pattern action={action}>\r\n            {head}\r\n            {tail}\r\n        </pattern>\r\n    );\r\n}\r\n'}},222:function(r){r.exports={code:'import { ReactPeg } from "react-peg";\r\n\r\nlet result = null;\r\n\r\ntry {\r\n    const parser = ReactPeg.render(<JSONText />);\r\n    const text = JSON.stringify({ a: 1, b: "text", c: null, d: [1, "a", { nested: { a: 1, b: "text", c: null } }] });\r\n    const ast = parser.parse(text);\r\n    result = ast;\r\n} catch (error) {\r\n    result = error;\r\n}\r\n\r\nexport default result;\r\n\r\n/**\r\n * grammar\r\n */\r\nfunction JSONText() {\r\n    return (\r\n        <pattern action={({ value }) => value}>\r\n            <_ />\r\n            <Value label="value" />\r\n            <_ />\r\n        </pattern>\r\n    );\r\n}\r\n\r\nfunction _() {\r\n    return (\r\n        <repeat type="*">\r\n            <set> \\t\\n\\r</set>\r\n        </repeat>\r\n    );\r\n}\r\n\r\nfunction Value() {\r\n    return (\r\n        <or>\r\n            <pattern action={() => false}>\r\n                <text>false</text>\r\n            </pattern>\r\n            <pattern action={() => null}>\r\n                <text>null</text>\r\n            </pattern>\r\n            <pattern action={() => true}>\r\n                <text>true</text>\r\n            </pattern>\r\n            <ObjectValue />\r\n            <Array />\r\n            <Number />\r\n            <String />\r\n        </or>\r\n    );\r\n}\r\n\r\nfunction Number() {\r\n    const digits = (\r\n        <repeat type="+">\r\n            <set>0-9</set>\r\n        </repeat>\r\n    );\r\n\r\n    const action = ({ globalFunction }) => {\r\n        return parseFloat(globalFunction.text());\r\n    };\r\n\r\n    return (\r\n        <pattern action={action}>\r\n            {digits}\r\n            <opt>\r\n                <text>.</text>\r\n                {digits}\r\n            </opt>\r\n        </pattern>\r\n    );\r\n}\r\n\r\n//\r\nfunction String() {\r\n    return (\r\n        <pattern action={({ chars }) => chars.join("")}>\r\n            <QuotationMark />\r\n            <repeat type="*" label="chars">\r\n                <Char />\r\n            </repeat>\r\n            <QuotationMark />\r\n        </pattern>\r\n    );\r\n}\r\n\r\nfunction Char() {\r\n    return <Unescaped />;\r\n}\r\n\r\nfunction QuotationMark() {\r\n    return <text>"</text>;\r\n}\r\n\r\nfunction Unescaped() {\r\n    // https://stackoverflow.com/questions/43516938/hexadecimal-search-by-js-test-function-and-replacing-it-with-some-value\r\n    // matches ASCII characters with hex codes from 00 till 1F (control chars) and also a 22 and 5C chars (" and \\ respectively).\r\n    return <set>^\\0-\\x1F\\x22\\x5C</set>;\r\n}\r\n\r\n//\r\nfunction BeginArray() {\r\n    return (\r\n        <list>\r\n            <_ />\r\n            <text>[</text>\r\n            <_ />\r\n        </list>\r\n    )\r\n}\r\n\r\nfunction EndArray() {\r\n    return (\r\n        <list>\r\n            <_ />\r\n            <text>]</text>\r\n            <_ />\r\n        </list>\r\n    )\r\n}\r\n\r\nfunction ValueSeparator() {\r\n    return (\r\n        <list>\r\n            <_ />\r\n            <text>,</text>\r\n            <_ />\r\n        </list>\r\n    )\r\n}\r\n\r\nfunction Array() {\r\n    return (\r\n        <pattern action={(({ head, tail }) => {\r\n            return [head, ...tail];\r\n        })}>\r\n            <BeginArray />\r\n            <Value label="head" />\r\n            <repeat type="*" label="tail">\r\n                <pattern action={({ value }) => value}>\r\n                    <ValueSeparator />\r\n                    <Value label="value" />\r\n                </pattern>\r\n            </repeat>\r\n            <EndArray />\r\n        </pattern>\r\n    )\r\n}\r\n\r\n//\r\nfunction BeginObject() {\r\n    return (\r\n        <list>\r\n            <_ />\r\n            <text>{`{`}</text>\r\n            <_ />\r\n        </list>\r\n    )\r\n}\r\n\r\nfunction EndObject() {\r\n    return (\r\n        <list>\r\n            <_ />\r\n            <text>{`}`}</text>\r\n            <_ />\r\n        </list>\r\n    )\r\n}\r\n\r\nfunction ObjectValue() {\r\n    return (\r\n        <pattern action={(({ head, tail }) => {\r\n            return [head, ...tail].reduce((prev, curr) => {\r\n                prev[curr.name] = curr.value;\r\n                return prev;\r\n            }, {});\r\n        })}>\r\n            <BeginObject />\r\n            <Member label="head" />\r\n            <repeat type="*" label="tail">\r\n                <pattern action={({ value }) => value}>\r\n                    <ValueSeparator />\r\n                    <Member label="value" />\r\n                </pattern>\r\n            </repeat>\r\n            <EndObject />\r\n        </pattern>\r\n    )\r\n}\r\n\r\nfunction NameSeparator() {\r\n    return (\r\n        <list>\r\n            <_ />\r\n            <text>:</text>\r\n            <_ />\r\n        </list>\r\n    )\r\n}\r\n\r\nfunction Member() {\r\n    return (\r\n        <pattern action={({ name, value }) => ({ name, value })}>\r\n            <String label="name" />\r\n            <NameSeparator />\r\n            <Value label="value" />\r\n        </ pattern>\r\n    )\r\n}\r\n'}},238:function(r,n,e){r.exports=e(553)},514:function(r,n){},553:function(r,n,e){"use strict";e.r(n);var t=e(0),a=e.n(t),o=e(91),c=e.n(o),l=e(21),i=e(575);function s(){return a.a.createElement("div",{className:u.container},"ReactPeg Playground")}var u=Object(i.a)({container:{backgroundColor:"#3178c6",border:"0px",padding:"10px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.25)",color:"white",font:'normal 24px -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,\n        "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif'}}),p=e(25),d=e(67),m=e(216),f=e(53),x=e(217),g=e.n(x),b=e(218),h=e.n(b),v=e(219),y=e(220);function E(r){try{return function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=new Function("window","require","exports",r),t={exports:{default:null}};return e(window,function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){return Object(p.a)({},w,r)[n]}}(n),t.exports),t}(function(r){var n="/** @jsx ReactPeg.createChunk */\n ".concat(r),e=f.transformSync(n,{plugins:[g.a,h.a]});if(e)return e.code||"";return""}(r),{}).exports}catch(n){return{message:n.message,stack:n.stack}}}var w={"react-peg":{ReactPeg:v.ReactPeg},"pegjs-backtrace":{Tracer:y}};function _(r){var n=r.defaultCode,e=Object(t.useRef)(),o=Object(t.useState)(""),c=Object(l.a)(o,2),i=c[0],s=c[1];function u(){var r=E(e.current.getValue());r.message?s(r.message):r.default&&r.default.message?s("message:\n"+r.default.message+"\n\nlocation:\n"+JSON.stringify(r.default.location,null,4)+"\n\nbacktrace:\n"+r.default.backtrace):s(JSON.stringify(r,null,4))}var f={minimap:{enabled:!1},scrollbar:{useShadows:!1}};return a.a.createElement("div",{className:k.container},a.a.createElement(d.a,{height:"100%",width:"50%",language:"typescript",options:f,editorDidMount:function(r,n){e.current=n,u(),e.current.onDidChangeModelContent(m(function(r){u()},1e3))},value:n}),a.a.createElement("div",{style:{width:"50%"}},a.a.createElement(d.a,{height:"100%",width:"100%",language:"typescript",options:Object(p.a)({},f,{readOnly:!0}),value:i})))}d.b.init().then(function(r){r.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0})}).catch(function(r){return console.error("An error occurred during initialization of Monaco: ",r)});var k=Object(i.a)({container:{height:"100%",display:"flex"}}),S=e(574),O=e(94),j=e(221),N=e(222),F=new Map([["Examples",[{name:"calculator",code:O.code},{name:"json",code:N.code},{name:"calculator-error",code:j.code}]]]);function T(r){var n=r.onSelectExample,e=function(r){var n=[];return r.forEach(function(r,e){var t={name:e,url:"",isExpanded:!0,links:r.map(function(r){return{name:r.name,url:"",key:r.name}})};n.push(t)}),[{links:n}]}(F),o=Object(t.useState)(F.get("Examples")[0].name),c=Object(l.a)(o,2),i=c[0],s=c[1];return a.a.createElement(S.a,{selectedKey:i,groups:e,styles:{root:{width:200,marginTop:-20}},onLinkClick:function(r,e){var t=e.key;t&&(n({name:t,code:F.get("Examples").find(function(r){return r.name===t}).code}),s(t))}})}function C(){var r=Object(t.useState)(O.code),n=Object(l.a)(r,2),e=n[0],o=n[1];return a.a.createElement("div",{className:V.container},a.a.createElement("div",{className:V.header},a.a.createElement(s,null)),a.a.createElement("div",{className:V.main},a.a.createElement("div",{className:V.nav},a.a.createElement(T,{onSelectExample:function(r){r.name;var n=r.code;o(n)}})),a.a.createElement("div",{className:V.editor},a.a.createElement(_,{defaultCode:e}))))}var V=Object(i.a)({container:{height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},header:{height:"60px"},main:{display:"flex",flexDirection:"row",marginTop:16},nav:{height:"100vh",marginTop:16},editor:{height:"100vh",width:"100%",marginTop:16}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=e(225),B=e(573);Object(R.a)(),Object(B.a)({selectors:{":global(body), :global(html), :global(#root)":{margin:0,padding:0,height:"100vh",overflow:"auto"}}}),c.a.render(a.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(r){r.unregister()})},94:function(r){r.exports={code:'import { ReactPeg } from "react-peg";\r\nimport { Tracer } from "pegjs-backtrace";\r\n\r\nlet result = null;\r\n\r\nconst input = "1.5 + 2 + 3.4 * ( 25 - 4 ) / 2 - 8";\r\nconst tracer = new Tracer(input, { useColor: false });\r\n\r\ntry {\r\n    const parser = ReactPeg.render(<Expression />, { tracer });\r\n    const ast = parser.parse(input);\r\n    result = ast;\r\n} catch (error) {\r\n    result = error;\r\n}\r\n\r\nconst backtrace = tracer.getBacktraceString();\r\nconsole.log(backtrace);\r\nconsole.log(result);\r\n\r\nconst toExport = Boolean(result.message) ?  {\r\n    ...result,\r\n    backtrace\r\n} : result\r\n\r\nexport default toExport\r\n\r\n/**\r\n * grammar\r\n */\r\nfunction Expression() {\r\n\r\n    const head = (\r\n        <Term label="head" />\r\n    );\r\n\r\n    const tail = (\r\n        <repeat label="tail" type="*">\r\n            <pattern action={({ term, op }) => ({ op, term })}>\r\n                <_ />\r\n                <or label="op">\r\n                    <text>+</text>\r\n                    <text>-</text>\r\n                </or>\r\n                <Term label="term" />\r\n                <_ />\r\n            </pattern>\r\n        </repeat>\r\n    );\r\n\r\n    const action = ({ head, tail }) => {\r\n        let value = head;\r\n        tail.forEach(({ op, term }) => {\r\n            if (op === "+") {\r\n                value += term;\r\n            } else if (op === "-") {\r\n                value -= term;\r\n            }\r\n        })\r\n        return value;\r\n    }\r\n\r\n    return (\r\n        <pattern action={action}>\r\n            {head}\r\n            {tail}\r\n        </pattern>\r\n    );\r\n}\r\n\r\nfunction _() {\r\n    return (\r\n        <repeat type="*">\r\n            <set> \\t\\n\\r</set>\r\n        </repeat>\r\n    );\r\n}\r\n\r\nfunction Number() {\r\n    const digits = (\r\n        <repeat type="+">\r\n            <set>0-9</set>\r\n        </repeat>\r\n    );\r\n\r\n    const action = ({ globalFunction }) => {\r\n        return parseFloat(globalFunction.text());\r\n    }\r\n\r\n    return (\r\n        <pattern action={action}>\r\n            {digits}\r\n            <opt>\r\n                <text>.</text>\r\n                {digits}\r\n            </opt>\r\n        </pattern>\r\n    );\r\n}\r\n\r\nfunction Factor() {\r\n\r\n    const number = (\r\n        <pattern action={({ value }) => value}>\r\n            <_ />\r\n            <Number label="value" />\r\n            <_ />\r\n        </pattern>\r\n    );\r\n\r\n    const expression = (\r\n        <pattern action={({ expression }) => expression}>\r\n            <_ />\r\n            <text>(</text>\r\n            <Expression label="expression" />\r\n            <text>)</text>\r\n            <_ />\r\n        </pattern >\r\n    );\r\n\r\n    return (\r\n        <or>\r\n            {expression}\r\n            {number}\r\n        </or>\r\n    );\r\n}\r\n\r\nfunction Term() {\r\n\r\n    const head = (\r\n        <Factor label="head" />\r\n    );\r\n\r\n    const tail = (\r\n        <repeat label="tail" type="*">\r\n            <pattern action={({ op, factor }) => ({ op, factor })}>\r\n                <_ />\r\n                <or label="op">\r\n                    <text>*</text>\r\n                    <text>/</text>\r\n                </or>\r\n                <Factor label="factor" />\r\n                <_ />\r\n            </pattern>\r\n        </repeat>\r\n    );\r\n\r\n    const action = ({ head, tail }) => {\r\n        let value = head;\r\n        tail.forEach(({ op, factor }) => {\r\n            if (op === "*") {\r\n                value *= factor;\r\n            } else if (op === "/") {\r\n                value /= factor;\r\n            }\r\n        })\r\n        return value;\r\n    }\r\n\r\n    return (\r\n        <pattern action={action}>\r\n            {head}\r\n            {tail}\r\n        </pattern>\r\n    );\r\n}\r\n'}}},[[238,1,2]]]);
//# sourceMappingURL=main.fe0f3730.chunk.js.map